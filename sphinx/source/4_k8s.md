# k8s

## microk8s

## k9s

## helm

## jupyter hub

- loadbalancer - explose the port for the hub
	- microk8s kubectl patch svc proxy-public -n jhub -p '{"spec": {"type": "LoadBalancer", "externalIPs":["10.12.69.80"]}}'

## airflow via helm

- https://vinayak.io/2020/09/10/day-24-jupyterhub-airflow-microk8s/

- install snapd on amazon linux
- install microk8s
	-   $ sudo snap install microk8s --classic

- create namespace
	- microk8s kubectl create namespace jhub

- enable helm
	- microk8s enable helm3

- add jupyter hub repo to helm
	- microk8s helm3 repo add jupyterhub https://jupyterhub.github.io/helm-chart

- 
	- microk8s helm3 repo update
	- RELEASE=jhub NAMESPACE=jhub microk8s helm3 upgrade --cleanup-on-fail --install $RELEASE jupyterhub/jupyterhub \ 
	--namespace $NAMESPACE --version=0.9.0 --values values.yml

-  microk8s helm3 --debug upgrade --install jupyterhub jupyterhub/jupyterhub --namespace jhub
